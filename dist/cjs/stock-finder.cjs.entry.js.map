{"file":"stock-finder.entry.cjs.js","mappings":";;;;;;;AAAA,MAAM,cAAc,GAAG,kyCAAkyC;;MCS5yC,WAAW;;;;wBAGoC,EAAE;mBACzC,KAAK;;2BAEG,KAAK;;EAIhC,WAAW,CAAC,KAAY;IACtB,KAAK,CAAC,cAAc,EAAE,CAAA;IACtB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA;IACnB,MAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAA;IAC3C,KAAK,CAAC,qEAAqE,SAAS,WAAWA,cAAO,EAAE,CAAC;OACtG,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,EAAE,CAAC;OACvB,IAAI,CAAC,QAAQ;MACZ,IAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAC;QAC1B,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAA;OAClC;MACD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,KAAK;QACnD,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,WAAW,CAAC,EAAC,CAAA;OAC7D,CAAC,CAAA;MACF,IAAI,CAAC,KAAK,GAAG,IAAI,CAAA;MACjB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAA;KACrB,CAAC;OACD,KAAK,CAAC,GAAG;MACR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;MAChB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,OAAO,CAAA;MACxB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAA;KACrB,CAAC,CAAA;GACL;EAED,cAAc,CAAC,MAAc;IAC3B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;GACnC;EAED,QAAQ;IACN,OAAO;MACL,KAAK,EAAE,IAAI,CAAC,KAAK,GAAG,OAAO,GAAG,EAAE;KACjC,CAAA;GACF;EAGD;IACE,IAAI,OAAO,GAAGC,oBAEI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,KAC1BA,gBAAI,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,IACxDA,wBAAS,MAAM,CAAC,MAAM,CAAU,SAAI,MAAM,CAAC,IAAI,CAC5C,CACN,CAAC,CAED,CAAA;IACnB,IAAG,IAAI,CAAC,OAAO,EAAE;MACf,OAAO,IAAIA,iBAAK,KAAK,EAAC,YAAY,IAACA,oBAAW,EAAAA,oBAAW,CAAM,CAAC,CAAA;KACjE;IACD,IAAG,IAAI,CAAC,KAAK,EAAE;MACb,OAAO,GAAGA,mBAAI,IAAI,CAAC,KAAK,CAAK,CAAA;KAC9B;IACD,OAAO;MACLA,kBAAM,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IACzCA,mBAAO,EAAE,EAAC,cAAc,EAChB,GAAG,EAAE,EAAE,KAAK,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,GACnC,EACVA,oBAAQ,IAAI,EAAC,QAAQ,WAAc,CAC9B;MACP,OAAO;KACR,CAAA;GACF;;;;;;;","names":["API_KEY","h"],"sources":["./src/components/stock-finder/stock-finder.css?tag=stock-finder&encapsulation=shadow","./src/components/stock-finder/stock-finder.tsx"],"sourcesContent":[":host {\n  font-family: sans-serif;\n  border: 2px solid rgb(12, 75, 168);\n  margin: 2rem;\n  padding: 1rem;\n  display: block;\n  width: 20rem;\n  max-width: 100%;\n}\n\nform input {\n  font: inherit;\n  color: rgb(0, 0, 0);\n  padding: 0.1rem 0.25rem;\n  display: block;\n  margin-bottom: 0.5rem;\n}\n\nform input:focus,\nform button:focus {\n  outline: none;\n}\n\n:host(.error) {\n  border-color: red;\n}\n\nform button {\n  font: inherit;\n  padding: 0.25rem 0.5rem;\n  border: 1px solid rgb(33, 93, 141);\n  background: rgb(19, 61, 120);\n  color: white;\n  cursor: pointer;\n}\n\nform button:hover,\nform button:active {\n  background:rgb(128, 188, 248);\n  border-color: rgb(128, 188, 248);\n}\n\nform button:disabled {\n  background: gray;\n  border-color: gray;\n  color: white;\n  cursor: not-allowed;\n}\n\nul {\n  margin: 0;\n  list-style: none;\n  padding: 0;\n}\n\nli {\n  margin: 0.25rem 0;\n  padding: 0.25rem;\n  border: 1px solid rgb(193, 193, 193);\n}\n\nli:hover,\nli:active {\n  background: rgb(128, 188, 248);\n  color: white;\n}\n\n.lds-ripple {\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n}\n.lds-ripple div {\n  position: absolute;\n  border: 4px solid rgb(33, 93, 141);\n  opacity: 1;\n  border-radius: 50%;\n  animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n}\n.lds-ripple div:nth-child(2) {\n  animation-delay: -0.5s;\n}\n@keyframes lds-ripple {\n  0% {\n    top: 36px;\n    left: 36px;\n    width: 0;\n    height: 0;\n    opacity: 0;\n  }\n  4.9% {\n    top: 36px;\n    left: 36px;\n    width: 0;\n    height: 0;\n    opacity: 0;\n  }\n  5% {\n    top: 36px;\n    left: 36px;\n    width: 0;\n    height: 0;\n    opacity: 1;\n  }\n  100% {\n    top: 0px;\n    left: 0px;\n    width: 72px;\n    height: 72px;\n    opacity: 0;\n  }\n}\n","import { Component, Host, State, h, Event } from '@stencil/core';\nimport { API_KEY } from '../../global/global';\nimport { EventEmitter } from 'stream';\n\n@Component({\n  tag: 'stock-finder',\n  styleUrl: 'stock-finder.css',\n  shadow: true,\n})\nexport class StockFinder {\n  stockNameInput: HTMLInputElement\n\n  @State() searchResult: {symbol: string, name: string}[] = []\n  @State() loading = false\n  @State() error: string\n  @State() stockInputValid = false\n\n  @Event({bubbles: true, composed: true}) ucSymbolSelected: EventEmitter\n\n  onFindStock(event: Event){\n    event.preventDefault()\n    this.loading = true\n    const stockName = this.stockNameInput.value\n    fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${stockName}&apikey=${API_KEY}`)\n      .then(res => res.json())\n      .then(parseRes => {\n        if(!parseRes[\"bestMatches\"]){\n          throw new Error(\"Invalid symbol\")\n        }\n        this.searchResult = parseRes[\"bestMatches\"].map(match => {\n          return { name: match[\"2. name\"], symbol: match[\"1. symbol\"]}\n        })\n        this.error = null\n        this.loading = false\n      })\n      .catch(err => {\n        console.log(err)\n        this.error = err.message\n        this.loading = false\n      })\n  }\n\n  onSelectSymbol(symbol: string) {\n    this.ucSymbolSelected.emit(symbol)\n  }\n\n  hostData() {\n    return {\n      class: this.error ? \"error\" : \"\"\n    }\n  }\n\n\n  render() {\n    let content = <ul>\n                    {\n                      this.searchResult.map(result => (\n                        <li onClick={this.onSelectSymbol.bind(this, result.symbol)}>\n                          <strong>{result.symbol}</strong> - {result.name}\n                        </li>\n                      ))\n                    }\n                  </ul>\n    if(this.loading) {\n      content = (<div class=\"lds-ripple\"><div></div><div></div></div>)\n    }    \n    if(this.error) {\n      content = <p>{this.error}</p>\n    }          \n    return [\n      <form onSubmit={this.onFindStock.bind(this)}>\n        <input id=\"stock-symbol\" \n                ref={el => (this.stockNameInput = el)} \n                />\n        <button type='submit'>Find</button>\n      </form>,\n      content      \n    ]\n  }\n\n}\n"],"version":3}